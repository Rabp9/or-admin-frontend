"use strict";angular.module("tuplastAdminApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","ngFileUpload","ui.tinymce","thatisuday.ng-image-gallery","angularValidator","scrollable-table"]).config(["$routeProvider","$httpProvider",function(a,b){b.interceptors.push("oauthHttpInterceptor"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main",title:"Home"}).when("/slider",{templateUrl:"views/slider.html",controller:"SliderCtrl",controllerAs:"slider",title:"Slider"}).when("/productos",{templateUrl:"views/productos.html",controller:"ProductosCtrl",controllerAs:"productos",title:"Productos"}).when("/nosotros",{templateUrl:"views/nosotros.html",controller:"NosotrosCtrl",controllerAs:"nosotros",title:"Nosotros"}).when("/obras",{templateUrl:"views/obras.html",controller:"ObrasCtrl",controllerAs:"obras",title:"Obras"}).when("/info-general",{templateUrl:"views/info-general.html",controller:"InfoGeneralCtrl",controllerAs:"infoGeneral",title:"Información General"}).when("/clientes",{templateUrl:"views/clientes.html",controller:"ClientesCtrl",controllerAs:"clientes",title:"Clientes"}).when("/convocatorias",{templateUrl:"views/convocatorias.html",controller:"ConvocatoriasCtrl",controllerAs:"convocatorias",title:"Convocatorias"}).when("/pages",{templateUrl:"views/pages.html",controller:"PagesCtrl",controllerAs:"pages",title:"Páginas"}).when("/tipo_sugerencias",{templateUrl:"views/tipo_sugerencias.html",controller:"TipoSugerenciasCtrl",controllerAs:"tipoSugerencias",title:"Tipos de Sugerencias"}).when("/roles",{templateUrl:"views/roles.html",controller:"RolesCtrl",controllerAs:"roles",title:"Roles"}).when("/users",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"users",title:"Usuarios"}).when("/users-login",{templateUrl:"views/users-login.html",controller:"UsersLoginCtrl",controllerAs:"usersLogin",title:"Login"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$route","$cookies","$location","UsersService","$window","EnvService",function(a,b,c,d,e,f,g){angular.module("tuplastAdminApp").path_location=g.getHost(),a.path_location=g.getHost(),$("#dvMessageRoot").removeClass("dvHidden"),a.tinymceOptions={plugins:"lists autolink textcolor colorpicker link media preview table code",language_url:"/scripts/langs_tinymce/es.js"},$(".nav a").on("click",function(){$(".navbar-toggle").click()}),a.$route=b,c.get("tuplast-token")?(a.logged=!0,a.user=c.getObject("tuplast-user")):a.logged=!1,a.$on("$routeChangeStart",function(b,c,e){void 0===e&&"usersLogin"===c.$$route.controllerAs?($("#topbar-wrapper").addClass("ng-hide"),$("#wrapper").addClass("inLogin"),void 0!==a.user&&d.path("/")):void 0===e&&"usersLogin"!==c.$$route.controllerAs?($("#sidebar-wrapper").css("display","block"),$("#wrapper").addClass("toggled"),void 0===a.user&&($("#sidebar-wrapper").css("display","none"),$("#wrapper").removeClass("toggled"),d.path("/users-login"))):"usersLogin"!==e.$$route.controllerAs&&"usersLogin"===c.$$route.controllerAs?void 0!==a.user?d.path("/"):($("#sidebar-wrapper").css("display","none"),$("#wrapper").removeClass("toggled")):"usersLogin"===e.$$route.controllerAs&&"usersLogin"!==c.$$route.controllerAs&&(void 0===a.user?d.path("/users-login"):($("#topbar-wrapper").removeClass("ng-hide"),$("#sidebar-wrapper").css("display","block"),$("#wrapper").addClass("toggled"))),void 0!==a.user&&(a.user.rol.permisos.search(c.$$route.controllerAs)>=0?a.message_root=null:"main"!==c.$$route.controllerAs&&"usersLogin"!==c.$$route.controllerAs&&(b.preventDefault(),a.message_root={type:"error",text:"No tiene permisos"}))}),a.$on("$routeChangeSuccess",function(c,d){a.title=b.current.title}),a.$on("$routeChangeError",function(){}),a.logout=function(){confirm("¿Está seguro de cerrar sesión?")&&(c.remove("tuplast-user"),c.remove("tuplast-token"),a.user=void 0,$("#topbar-wrapper").addClass("ng-hide"),$("#wrapper").addClass("inLogin"),d.path("/users-login"))}}]),angular.module("tuplastAdminApp").controller("MainCtrl",function(){}),angular.module("tuplastAdminApp").controller("SliderCtrl",["$scope","SlidesService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.slides=b.slides,a.loading=!1}),a.showSlidesAdd=function(){var b=c.open({templateUrl:"views/slides-add.html",controller:"SlidesAddCtrl",backdrop:!1});b.result.then(function(b){a.slides.push(b.slide),a.message=b.message})},a.showSlidesEdit=function(d){var e=c.open({templateUrl:"views/slides-edit.html",controller:"SlidesEditCtrl",backdrop:!1,resolve:{slide:function(){return d}}});e.result.then(function(c){b.getAdmin(function(b){a.slides=b.slides}),a.message=c.message})}}]),angular.module("tuplastAdminApp").controller("SlidesAddCtrl",["$scope","$uibModalInstance","SlidesService",function(a,b,c){a.slide={},a.tmp_path=angular.module("tuplastAdminApp").path_location+"tmp",a.loading=!1,a.cancel=function(){b.dismiss("cancel")},a.saveSlide=function(a,d,e){return $("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),null===e?(alert("Seleccione una imagen correcta"),$("#"+d).removeClass("disabled"),void $("#"+d).prop("disabled",!1)):(a.url=e,void c.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,d){a.loading=!0;var e=new FormData;e.append("file",b),c.preview(e,function(b){"success"===b.message.type?a.url_preview=b.filename:"error"===b.message.type&&(a.url_preview=null),a.loading=!1},function(b){a.url_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").controller("SlidesEditCtrl",["$scope","slide","$uibModalInstance","SlidesService",function(a,b,c,d){a.slide=$.extend(!0,{},b),a.tmp_path=angular.module("tuplastAdminApp").path_location+"img/slides",a.url_preview=b.url,a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.saveSlide=function(a,b,e){return $("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),null===e?(alert("Seleccione una imagen correcta"),$("#"+b).removeClass("disabled"),void $("#"+b).prop("disabled",!1)):(a.url=e,void d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,c){a.loading=!0,a.tmp_path=angular.module("tuplastAdminApp").path_location+"tmp";var e=new FormData;e.append("file",b),d.preview(e,function(b){"success"===b.message.type?a.url_preview=b.filename:"error"===b.message.type&&(a.url_preview=null),a.loading=!1},function(b){a.url_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").controller("ProductosCtrl",["$scope","ProductosService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.productos=b.productos,a.loading=!1}),a.showProductosAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/productos-add.html",controller:"ProductosAddCtrl",backdrop:!1,size:"lg"});d.result.then(function(b){a.productos.push(b.producto),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showProductosEdit=function(d,e){$(e.currentTarget).addClass("disabled"),$(e.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/productos-edit.html",controller:"ProductosEditCtrl",backdrop:!1,size:"lg",resolve:{producto:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.productos=b.productos}),a.message=c.message}),$(e.currentTarget).removeClass("disabled"),$(e.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("ProductosAddCtrl",["$scope","ProductosService","$uibModalInstance",function(a,b,c){a.producto={},a.methods={};var d=angular.module("tuplastAdminApp").path_location+"tmp/";a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.saveProducto=function(a,d,e){$("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),a.producto_images=[],angular.forEach(e,function(b,c){a.producto_images.push({url:b})}),b.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})},a["delete"]=function(b,c){var d=a.images.indexOf(b);a.images.splice(d,1),a.urls_preview.splice(d,1),a.images.length>0?a.methods.open(0):a.methods.close()},a.preview=function(c,e){a.loading=!0;var f=new FormData;a.images=[],angular.forEach(c,function(a,b){f.append("files[]",a)}),b.preview(f,function(b){a.urls_preview=b.filenames;var c=1;angular.forEach(b.filenames,function(b,e){var f={url:d+b,id:c,deletable:!0};a.images.push(f),c++}),a.loading=!1,b.hasOwnProperty("message")&&"error"===b.message.type&&alert(b.message.text)})}}]),angular.module("tuplastAdminApp").controller("ProductosEditCtrl",["$scope","producto","$uibModalInstance","ProductosService",function(a,b,c,d){a.loading=!1,d.get({id:b.id},function(b){a.producto=b.producto,angular.forEach(a.producto.producto_images,function(b,c){a.images.push({url:angular.module("tuplastAdminApp").path_location+"img/productos/"+b.url,id:b.id,deletable:!0})})}),a.images=[],a.methods={};var e=angular.module("tuplastAdminApp").path_location+"tmp/";a.cancel=function(){c.dismiss("cancel")},a.saveProducto=function(a,b,e){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),angular.forEach(e,function(b,c){a.producto_images.push({url:b})}),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})},a["delete"]=function(b,c){if(confirm("¿Està seguro de eliminar esta imagen?")){var e=a.images.indexOf(b);d.deleteImage({id:b.id},function(c){a.images.splice(e,1),angular.forEach(a.producto.producto_images,function(c,d){c.id===b.id&&a.producto.producto_images.splice(d,1)}),a.images.length>0?a.methods.open(0):a.methods.close()})}},a.preview=function(b,c){a.loading=!0;var f=new FormData;angular.forEach(b,function(a,b){f.append("files[]",a)}),d.preview(f,function(b){a.loading=!0,a.urls_preview=b.filenames;var c=1;angular.forEach(b.filenames,function(b,d){var f={url:e+b,id:c,deletable:!0};a.images.push(f),c++}),a.loading=!1,b.hasOwnProperty("message")&&"error"===b.message.type&&alert(b.message.text)})}}]),angular.module("tuplastAdminApp").controller("NosotrosCtrl",["$scope","InfosService","PoliticasService","$uibModal",function(a,b,c,d){a.quienesSomos={};var e=["nuestraHistoria","vision","mision","valor1","valor2","valor3","valor4","valor5","valor6","valor7"];a.loading=!0,b.getDataMany(e,function(b){angular.forEach(e,function(c,d){a.quienesSomos[c]=b.info[c]}),a.loading=!1}),c.getAdmin(function(b){a.politicas=b.politicas}),a.saveQuienesSomos=function(c,d){$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),b.saveMany(c,function(b){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),a.message=b.message},function(b){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),a.message={type:"error",text:"Hubo un error. Código: "+b.status+" Mensaje: "+b.statusText}})},a.showPoliticasAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var c=d.open({templateUrl:"views/politicas-add.html",controller:"PoliticasAddCtrl",backdrop:!1});c.result.then(function(b){a.politicas.push(b.politica),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showPoliticasEdit=function(b){$(event.currentTarget).addClass("disabled"),$(event.currentTarget).prop("disabled",!0);var e=d.open({templateUrl:"views/politicas-edit.html",controller:"PoliticasEditCtrl",backdrop:!1,resolve:{politica:function(){return b}}});e.result.then(function(b){a.message=b.message,c.getAdmin(function(b){a.politicas=b.politicas})}),$(event.currentTarget).removeClass("disabled"),$(event.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("PoliticasAddCtrl",["$scope","PoliticasService","$uibModalInstance",function(a,b,c){a.politica={},a.tmp_path=angular.module("tuplastAdminApp").path_location+"tmp",a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.savePolitica=function(a,d,e){return $("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),null===e?(alert("Seleccione una imagen correcta"),$("#"+d).removeClass("disabled"),void $("#"+d).prop("disabled",!1)):(a.url=e,void b.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(c,d){a.loading=!0;var e=new FormData;e.append("file",c),b.preview(e,function(b){"success"===b.message.type?a.url_preview=b.filename:"error"===b.message.type&&(a.url_preview=null),a.loading=!1},function(b){a.url_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").controller("ObrasCtrl",["$scope","ObrasService","$uibModal",function(a,b,c){b.getAdmin(function(b){a.obras=b.obras}),a.showObrasAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/obras-add.html",controller:"ObrasAddCtrl",backdrop:!1,size:"lg"});d.result.then(function(b){a.obras.push(b.obra),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showObrasEdit=function(d){$(event.currentTarget).addClass("disabled"),$(event.currentTarget).prop("disabled",!0);var e=c.open({templateUrl:"views/obras-edit.html",controller:"ObrasEditCtrl",backdrop:!1,size:"lg",resolve:{obra:function(){return d}}});e.result.then(function(c){b.getAdmin(function(b){a.obras=b.obras}),a.message=c.message}),$(event.currentTarget).removeClass("disabled"),$(event.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("ObrasAddCtrl",["$scope","ObrasService","$uibModalInstance",function(a,b,c){a.obra={},a.methods={};var d=angular.module("tuplastAdminApp").path_location+"tmp/";a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.saveObra=function(a,d,e){$("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),a.obra_images=[],angular.forEach(e,function(b,c){a.obra_images.push({url:b})}),b.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})},a["delete"]=function(b,c){var d=a.images.indexOf(b);a.images.splice(d,1),a.urls_preview.splice(d,1),a.images.length>0?a.methods.open(0):a.methods.close()},a.preview=function(c,e){a.loading=!0;var f=new FormData;a.images=[],angular.forEach(c,function(a,b){f.append("files[]",a)}),b.preview(f,function(b){a.urls_preview=b.filenames;var c=1;angular.forEach(b.filenames,function(b,e){var f={url:d+b,id:c,deletable:!0};a.images.push(f),c++}),a.loading=!1,b.hasOwnProperty("message")&&"error"===b.message.type&&alert(b.message.text)})}}]),angular.module("tuplastAdminApp").controller("ObrasEditCtrl",["$scope","obra","$uibModalInstance","ObrasService",function(a,b,c,d){a.loading=!1,d.get({id:b.id},function(b){a.obra=b.obra,angular.forEach(a.obra.obra_images,function(b,c){a.images.push({url:angular.module("tuplastAdminApp").path_location+"img/obras/"+b.url,id:b.id,deletable:!0})})}),a.images=[],a.methods={};var e=angular.module("tuplastAdminApp").path_location+"tmp/";a.cancel=function(){c.dismiss("cancel")},a.saveObra=function(a,b,e){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),angular.forEach(e,function(b,c){a.obra_images.push({url:b})}),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})},a["delete"]=function(b,c){if(confirm("¿Està seguro de eliminar esta imagen?")){var e=a.images.indexOf(b);d.deleteImage({id:b.id},function(c){a.images.splice(e,1),angular.forEach(a.obra.obra_images,function(c,d){c.id===b.id&&a.obra.obra_images.splice(d,1)}),a.images.length>0?a.methods.open(0):a.methods.close()})}},a.preview=function(b,c){a.loading=!0;var f=new FormData;angular.forEach(b,function(a,b){f.append("files[]",a)}),d.preview(f,function(b){a.urls_preview=b.filenames;var c=1;angular.forEach(b.filenames,function(b,d){var f={url:e+b,id:c,deletable:!0};a.images.push(f),c++}),a.loading=!1,b.hasOwnProperty("message")&&"error"===b.message.type&&alert(b.message.text)})}}]),angular.module("tuplastAdminApp").factory("InfosService",["$resource","EnvService",function(a,b){return a(b.getHost()+"infos/:id.json",{},{saveMany:{method:"POST",url:b.getHost()+"infos/saveMany.json"},getDataMany:{method:"POST",url:b.getHost()+"infos/getDataMany.json"},getDataByData:{method:"POST",url:b.getHost()+"infos/getDataByData.json"}})}]),angular.module("tuplastAdminApp").factory("SlidesService",["$resource","EnvService",function(a,b){return a(b.getHost()+"slides/:id.json",{},{update:{method:"PUT"},preview:{method:"POST",url:b.getHost()+"slides/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"slides/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").factory("ProductosService",["$resource","EnvService",function(a,b){return a(b.getHost()+"productos/:id.json",{},{preview:{method:"POST",url:b.getHost()+"productos/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"productos/getAdmin/.json"},deleteImage:{method:"POST",url:b.getHost()+"productos/deleteImage/.json"}})}]),angular.module("tuplastAdminApp").factory("PoliticasService",["$resource","EnvService",function(a,b){return a(b.getHost()+"politicas/:id.json",{},{preview:{method:"POST",url:b.getHost()+"politicas/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"politicas/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").factory("ObrasService",["$resource","EnvService",function(a,b){return a(b.getHost()+"obras/:id.json",{},{preview:{method:"POST",url:b.getHost()+"obras/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"obras/getAdmin/.json"},deleteImage:{method:"POST",url:b.getHost()+"obras/deleteImage/.json"}})}]),angular.module("tuplastAdminApp").controller("InfoGeneralCtrl",["$scope","InfosService","$uibModal",function(a,b,c){var d=["resumen_tuplast","mensaje_clientes_1","mensaje_clientes_2","facebook_link","twitter_link","telf_oficina","email_1","email_2","telf_area_tecnica","brochure"];a.loading=!0,b.getDataByData(d,function(b){a.infos=b.infos,a.loading=!1}),a.showInfosEdit=function(e,f){$(f.currentTarget).addClass("disabled"),$(f.currentTarget).prop("disabled",!0);var g=c.open({templateUrl:"views/info-general-edit.html",controller:"InfoGeneralEditCtrl",backdrop:!1,resolve:{info:function(){return e}}});$(f.currentTarget).removeClass("disabled"),$(f.currentTarget).prop("disabled",!1),g.result.then(function(c){b.getDataByData(d,function(b){a.infos=b.infos}),a.message=c.message})}}]),angular.module("tuplastAdminApp").controller("InfoGeneralEditCtrl",["$scope","info","$uibModalInstance","InfosService",function(a,b,c,d){a.info=$.extend(!0,{},b),a.cancel=function(){c.dismiss("cancel")},a.saveInfoGeneral=function(a,b){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").controller("ClientesCtrl",["$scope","ClientesService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.clientes=b.clientes,a.loading=!1}),a.showClientesAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/clientes-add.html",controller:"ClientesAddCtrl",backdrop:!1});d.result.then(function(b){b.cliente&&a.clientes.push(b.cliente),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showClientesEdit=function(d,e){$(e.currentTarget).addClass("disabled"),$(e.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/clientes-edit.html",controller:"ClientesEditCtrl",backdrop:!1,resolve:{cliente:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.clientes=b.clientes}),a.message=c.message}),$(e.currentTarget).removeClass("disabled"),$(e.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("ClientesAddCtrl",["$scope","$uibModalInstance","ClientesService",function(a,b,c){a.cliente={},a.tmp_path=angular.module("tuplastAdminApp").path_location+"tmp",a.loading=!1,a.cancel=function(){b.dismiss("cancel")},a.saveCliente=function(a,d,e){return $("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),null===e?(alert("Seleccione una imagen correcta"),$("#"+d).removeClass("disabled"),void $("#"+d).prop("disabled",!1)):(a.url=e,void c.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,d){a.loading=!0;var e=new FormData;e.append("file",b),c.preview(e,function(b){"success"===b.message.type?a.url_preview=b.filename:"error"===b.message.type&&(a.url_preview=null),a.loading=!1},function(b){a.url_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").controller("ClientesEditCtrl",["$scope","cliente","$uibModalInstance","ClientesService",function(a,b,c,d){a.cliente=$.extend(!0,{},b),a.tmp_path=angular.module("tuplastAdminApp").path_location+"img/clientes",a.url_preview=b.url,a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.saveCliente=function(a,b,e){return $("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),null===e?(alert("Seleccione una imagen correcta"),$("#"+b).removeClass("disabled"),void $("#"+b).prop("disabled",!1)):(a.url=e,void d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,c){a.loading=!0,a.tmp_path=angular.module("tuplastAdminApp").path_location+"tmp";var e=new FormData;e.append("file",b),d.preview(e,function(b){"success"===b.message.type?a.url_preview=b.filename:"error"===b.message.type&&(a.url_preview=null),a.loading=!1},function(b){a.url_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").factory("ClientesService",["$resource","EnvService",function(a,b){return a(b.getHost()+"clientes/:id.json",{},{preview:{method:"POST",url:b.getHost()+"clientes/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"clientes/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").factory("ClientesService",["$resource","EnvService",function(a,b){return a(b.getHost()+"clientes/:id.json",{},{preview:{method:"POST",url:b.getHost()+"clientes/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"clientes/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").controller("ConvocatoriasCtrl",["$scope","ConvocatoriasService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.convocatorias=b.convocatorias,a.loading=!1}),a.showConvocatoriasAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/convocatorias-add.html",controller:"ConvocatoriasAddCtrl",backdrop:!1});d.result.then(function(b){a.convocatorias.push(b.convocatoria),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showConvocatoriasEdit=function(d,e){$(e.currentTarget).addClass("disabled"),$(e.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/convocatorias-edit.html",controller:"ConvocatoriasEditCtrl",backdrop:!1,resolve:{convocatoria:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.convocatorias=b.convocatorias}),a.message=c.message}),$(e.currentTarget).removeClass("disabled"),$(e.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("ConvocatoriasAddCtrl",["$scope","$uibModalInstance","ConvocatoriasService",function(a,b,c){function d(a){return void 0===a?void 0:a.getFullYear()+"-"+e(a.getMonth()+1,"00")+"-"+e(a.getDate(),"00")}function e(a,b){return b.substring(0,b.length-a.toString().length)+a}a.convocatoria={},a.loading=!1,a.cancel=function(){b.dismiss("cancel")},a.saveConvocatoria=function(e,f,g){return $("#"+f).text("Guardando..."),$("#"+f).addClass("disabled"),$("#"+f).prop("disabled",!0),null===g?(alert("Seleccione un documento correcto"),$("#"+f).removeClass("disabled"),void $("#"+f).prop("disabled",!1)):(e.fecha=d(a.fecha_pre),e.documentacion=g,void c.save(e,function(a){$("#"+f).removeClass("disabled"),$("#"+f).prop("disabled",!1),b.close(a)},function(a){$("#"+f).removeClass("disabled"),$("#"+f).prop("disabled",!1),b.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,d){a.loading=!0;var e=new FormData;e.append("file",b),c.preview(e,function(b){"success"===b.message.type?a.documentacion_preview=b.filename:"error"===b.message.type&&(a.documentacion_preview=null),a.loading=!1},function(b){a.documentacion_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").controller("ConvocatoriasEditCtrl",["$scope","convocatoria","$uibModalInstance","ConvocatoriasService",function(a,b,c,d){function e(a){return void 0===a?void 0:a.getFullYear()+"-"+f(a.getMonth()+1,"00")+"-"+f(a.getDate(),"00")}function f(a,b){return b.substring(0,b.length-a.toString().length)+a}a.convocatoria=$.extend(!0,{},b),a.documentacion_preview=a.convocatoria.documentacion,a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.saveConvocatoria=function(b,f,g){return $("#"+f).text("Guardando..."),$("#"+f).addClass("disabled"),$("#"+f).prop("disabled",!0),null===g?(alert("Seleccione una documento correcto"),$("#"+f).removeClass("disabled"),void $("#"+f).prop("disabled",!1)):(b.fecha=e(a.fecha_pre),b.documentacion=g,void d.save(b,function(a){$("#"+f).removeClass("disabled"),$("#"+f).prop("disabled",!1),c.close(a)},function(a){$("#"+f).removeClass("disabled"),$("#"+f).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,c){a.loading=!0;var e=new FormData;e.append("file",b),d.preview(e,function(b){"success"===b.message.type?a.documentacion_preview=b.filename:"error"===b.message.type&&(a.documentacion_preview=null),a.loading=!1},function(b){a.documentacion_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").factory("ConvocatoriasService",["$resource","EnvService",function(a,b){return a(b.getHost()+"convocatorias/:id.json",{},{preview:{method:"POST",url:b.getHost()+"convocatorias/preview/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"convocatorias/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").controller("PagesCtrl",["$scope","PagesService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.pages=b.pages,a.loading=!1}),a.showPagesAdd=function(b){$(event.currentTarget).addClass("disabled"),$(event.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/pages-add.html",controller:"PagesAddCtrl",backdrop:!1,size:"lg"});d.result.then(function(b){a.pages.push(b.page),a.message=b.message}),$(event.currentTarget).removeClass("disabled"),$(event.currentTarget).prop("disabled",!1)},a.showPagesEdit=function(d,e){$(event.currentTarget).addClass("disabled"),$(event.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/pages-edit.html",controller:"PagesEditCtrl",backdrop:!1,size:"lg",resolve:{page:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.pages=b.pages}),a.message=c.message}),$(event.currentTarget).removeClass("disabled"),$(event.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("PagesAddCtrl",["$scope","$uibModalInstance","PagesService",function(a,b,c){a.page={},a.tmp_path=angular.module("tuplastAdminApp").path_location+"img/paginas/",a.menus=[{id:"NS",description:"Nosotros"},{id:"PY",description:"Proyectos"},{id:"CN",description:"Contáctanos"}],a.tinymcePagesOptions={plugins:"lists autolink textcolor colorpicker link media preview table code",language_url:"/scripts/langs_tinymce/es.js",file_browser_callback_types:"image",file_browser_callback:function(b,c,d,e){a.input=b,$("#flImagen").click()}},a.cancel=function(){b.dismiss("cancel")},a.savePage=function(a,d){$("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),c.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})},a.upload=function(b,d){var e=new FormData;e.append("file",b),c.upload(e,function(b){a.url=a.tmp_path+b.filename,document.getElementById(a.input).value=a.url})}}]),angular.module("tuplastAdminApp").controller("PagesEditCtrl",["$scope","page","$uibModalInstance","PagesService",function(a,b,c,d){a.page=$.extend(!0,{},b),a.tmp_path=angular.module("tuplastAdminApp").path_location+"img/paginas/",a.menus=[{id:"NS",description:"Nosotros"},{id:"PY",description:"Proyectos"},{id:"CN",description:"Contáctanos"}],a.tinymcePagesOptions={plugins:"lists autolink textcolor colorpicker link media preview table code",language_url:"/scripts/langs_tinymce/es.js",file_browser_callback_types:"image",file_browser_callback:function(b,c,d,e){a.input=b,$("#flImagen").click()}},a.cancel=function(){c.dismiss("cancel")},a.savePage=function(a,b){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})},a.upload=function(b,c){var e=new FormData;e.append("file",b),d.upload(e,function(b){a.url=a.tmp_path+b.filename,document.getElementById(a.input).value=a.url})}}]),angular.module("tuplastAdminApp").factory("PagesService",["$resource","EnvService",function(a,b){return a(b.getHost()+"pages/:id.json",{},{upload:{method:"POST",url:b.getHost()+"pages/upload/.json",
transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"pages/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").controller("TipoSugerenciasCtrl",["$scope","TipoSugerenciasService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.tipo_sugerencias=b.tipo_sugerencias,a.loading=!1}),a.showTipoSugerenciasAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/tipo_sugerencias-add.html",controller:"TipoSugerenciasAddCtrl",backdrop:!1});d.result.then(function(b){console.log(b),a.tipo_sugerencias.push(b.tipo_sugerencia),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showTipoSugerenciasEdit=function(d,e){$(e.currentTarget).addClass("disabled"),$(e.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/tipo_sugerencias-edit.html",controller:"TipoSugerenciasEditCtrl",backdrop:!1,resolve:{tipo_sugerencia:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.tipo_sugerencias=b.tipo_sugerencias}),a.message=c.message}),$(e.currentTarget).removeClass("disabled"),$(e.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("TipoSugerenciasAddCtrl",["$scope","$uibModalInstance","TipoSugerenciasService",function(a,b,c){a.tipo_sugerencia={},a.cancel=function(){b.dismiss("cancel")},a.saveTipoSugerencia=function(a,d){$("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),c.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),b.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").controller("TipoSugerenciasEditCtrl",["$scope","tipo_sugerencia","$uibModalInstance","TipoSugerenciasService",function(a,b,c,d){a.tipo_sugerencia=$.extend(!0,{},b),a.cancel=function(){c.dismiss("cancel")},a.saveTipoSugerencia=function(a,b){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").factory("TipoSugerenciasService",["$resource","EnvService",function(a,b){return a(b.getHost()+"tipo_sugerencias/:id.json",{},{getAdmin:{method:"GET",url:b.getHost()+"tipo_sugerencias/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").filter("menuFilter",function(){return function(a){switch(a){case"IN":return"Inicio";case"NS":return"Nosotros";case"PD":return"Productos";case"CL":return"Clientes";case"PY":return"Proyectos";case"CN":return"Contáctanos"}}}),angular.module("tuplastAdminApp").controller("PoliticasEditCtrl",["$scope","politica","$uibModalInstance","PoliticasService",function(a,b,c,d){a.politica=$.extend(!0,{},b),a.tmp_path=angular.module("tuplastAdminApp").path_location+"img/politicas",a.url_preview=b.url,a.loading=!1,a.cancel=function(){c.dismiss("cancel")},a.savePolitica=function(a,b,e){return $("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),null===e?(alert("Seleccione una imagen correcta"),$("#"+b).removeClass("disabled"),void $("#"+b).prop("disabled",!1)):(a.url=e,void d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})}))},a.preview=function(b,c){a.loading=!0,a.tmp_path=angular.module("tuplastAdminApp").path_location+"tmp";var e=new FormData;e.append("file",b),d.preview(e,function(b){"success"===b.message.type?a.url_preview=b.filename:"error"===b.message.type&&(a.url_preview=null),a.loading=!1},function(b){a.url_preview=null,a.loading=!1})}}]),angular.module("tuplastAdminApp").factory("PagesService",["$resource","EnvService",function(a,b){return a(b.getHost()+"pages/:id.json",{},{upload:{method:"POST",url:b.getHost()+"pages/upload/.json",transformRequest:angular.identity,headers:{"Content-Type":void 0}},getAdmin:{method:"GET",url:b.getHost()+"pages/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").filter("tipoProducto",function(){return function(a){return"P"===a?"Página":"Línea de Producto"}}),angular.module("tuplastAdminApp").controller("RolesCtrl",["$scope","RolesService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.roles=b.roles,a.loading=!1}),a.showRolesAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/roles-add.html",controller:"RolesAddCtrl",backdrop:!1});d.result.then(function(b){a.roles.push(b.rol),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showRolesEdit=function(d,e){$(e.currentTarget).addClass("disabled"),$(e.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/roles-edit.html",controller:"RolesEditCtrl",backdrop:!1,resolve:{rol:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.roles=b.roles}),a.message=c.message}),$(e.currentTarget).removeClass("disabled"),$(e.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("UsersCtrl",["$scope","UsersService","$uibModal",function(a,b,c){a.loading=!0,b.getAdmin(function(b){a.users=b.users,a.loading=!1}),a.showUsersAdd=function(b){$(b.currentTarget).addClass("disabled"),$(b.currentTarget).prop("disabled",!0);var d=c.open({templateUrl:"views/users-add.html",controller:"UsersAddCtrl",backdrop:!1});d.result.then(function(b){a.users.push(b.user),a.message=b.message}),$(b.currentTarget).removeClass("disabled"),$(b.currentTarget).prop("disabled",!1)},a.showUsersEdit=function(d,e){$(e.currentTarget).addClass("disabled"),$(e.currentTarget).prop("disabled",!0);var f=c.open({templateUrl:"views/users-edit.html",controller:"UsersEditCtrl",backdrop:!1,resolve:{user:function(){return d}}});f.result.then(function(c){b.getAdmin(function(b){a.users=b.users}),a.message=c.message}),$(e.currentTarget).removeClass("disabled"),$(e.currentTarget).prop("disabled",!1)}}]),angular.module("tuplastAdminApp").controller("RolesAddCtrl",["$scope","RolesService","$uibModalInstance","ControllersService",function(a,b,c,d){a.rol={},a.rol.controller_roles=[],a.loading=!0,d.get(function(b){a.rol.controller_roles=[],angular.forEach(b.controllers,function(b,c){a.rol.controller_roles.push({controller_id:b.id,controller:b,permiso:!1})}),a.loading=!1}),a.cancel=function(){c.dismiss("cancel")},a.saveRol=function(a,d){$("#"+d).text("Guardando..."),$("#"+d).addClass("disabled"),$("#"+d).prop("disabled",!0),b.save(a,function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close(a)},function(a){$("#"+d).removeClass("disabled"),$("#"+d).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").controller("RolesEditCtrl",["$scope","rol","$uibModalInstance","RolesService",function(a,b,c,d){a.rol=$.extend(!0,{},b),a.cancel=function(){c.dismiss("cancel")},a.saveRol=function(a,b){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").controller("UsersAddCtrl",["$scope","UsersService","RolesService","$uibModalInstance",function(a,b,c,d){a.user={},a.loading=!0,c.get(function(b){a.roles=b.roles,a.loading=!1}),a.cancel=function(){d.dismiss("cancel")},a.saveUser=function(a,c){$("#"+c).text("Guardando..."),$("#"+c).addClass("disabled"),$("#"+c).prop("disabled",!0),b.save(a,function(a){$("#"+c).removeClass("disabled"),$("#"+c).prop("disabled",!1),d.close(a)},function(a){$("#"+c).removeClass("disabled"),$("#"+c).prop("disabled",!1),d.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").controller("UsersEditCtrl",["$scope","user","$uibModalInstance","UsersService","RolesService",function(a,b,c,d,e){a.user=$.extend(!0,{},b),a.loading=!0,e.get(function(b){a.roles=b.roles,a.loading=!1}),a.cancel=function(){c.dismiss("cancel")},a.saveUser=function(a,b){$("#"+b).text("Guardando..."),$("#"+b).addClass("disabled"),$("#"+b).prop("disabled",!0),d.save(a,function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close(a)},function(a){$("#"+b).removeClass("disabled"),$("#"+b).prop("disabled",!1),c.close({message:{type:"error",text:"Hubo un error. Código: "+a.status+" Mensaje: "+a.statusText}})})}}]),angular.module("tuplastAdminApp").factory("RolesService",["$resource","EnvService",function(a,b){return a(b.getHost()+"roles/:id.json",{},{getAdmin:{method:"GET",url:b.getHost()+"roles/getAdmin/.json"}})}]),angular.module("tuplastAdminApp").factory("UsersService",["$resource","EnvService",function(a,b){return a(b.getHost()+"users/:id.json",{},{getAdmin:{method:"GET",url:b.getHost()+"users/getAdmin/.json"},login:{method:"POST",url:b.getHost()+"users/token/.json"}})}]),angular.module("tuplastAdminApp").factory("ControllersService",["$resource","EnvService",function(a,b){return a(b.getHost()+"controllers/:id.json",{})}]),angular.module("tuplastAdminApp").controller("UsersLoginCtrl",["$scope","UsersService","$uibModal","$cookies","$location","$rootScope",function(a,b,c,d,e,f){a.loginUser=function(c,g){$("#"+g).text("Login..."),$("#"+g).addClass("disabled"),$("#"+g).prop("disabled",!0),b.login(c,function(b){b.user?(d.putObject("tuplast-user",b.user),d.put("tuplast-token",b.token),f.user=b.user,$("#wrapper").removeClass("inLogin"),e.path("/")):a.message=b.message},function(b){$("#"+g).removeClass("disabled"),$("#"+g).prop("disabled",!1),$("#"+g).text("Login"),a.message={type:"error",text:"Nombre de usuario o contraseña incorrecta"}})}}]),angular.module("tuplastAdminApp").factory("oauthHttpInterceptor",["$cookies",function(a){return{request:function(b){return b.headers.Authorization="Bearer "+a.get("tuplast-token"),b}}}]),angular.module("tuplastAdminApp").factory("EnvService",function(){return{getHost:function(){switch(window.location.hostname){case"localhost":return"http://localhost:8000/or-backend/";case"admin.tuplast.robertobocanegra.com":return"http://tuplast.robertobocanegra.com/api/"}}}}),angular.module("tuplastAdminApp").run(["$templateCache",function(a){a.put("views/clientes-add.html",'<form ng-submit="saveCliente(cliente, \'btnSaveCliente\', url_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nuevo Cliente</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtRazonSocial">Razón Social</label> <input id="txtRazonSocial" class="form-control" type="text" ng-model="cliente.razon_social" required> </div> <div class="form-group"> <label for="txtRuc">RUC</label> <input id="txtRuc" class="form-control" type="text" ng-model="cliente.ruc" required pattern="[0-9]{11}" maxlength="11"> <p class="help-block">Ingrese un número de 11 digitos.</p> </div> <div class="form-group"> <label for="flLogo">Logo</label> <input id="flLogo" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB" required> <img ng-hide="url_preview === undefined || url_preview === null" class="img-responsive" ng-src="{{tmp_path}}/{{url_preview}}" alt="imagen previa"> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && url_preview === null">No fue posible cargar la imagen</span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveCliente" class="btn btn-success" type="submit">Guardar Cliente</button> </div> </form>'),a.put("views/clientes-edit.html",'<form ng-submit="saveCliente(cliente, \'btnSaveCliente\', url_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Cliente</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtRazonSocial">Razón Social</label> <input id="txtRazonSocial" class="form-control" type="text" ng-model="cliente.razon_social" required> </div> <div class="form-group"> <label for="txtRuc">RUC</label> <input id="txtRuc" class="form-control" type="text" ng-model="cliente.ruc" required pattern="[0-9]{11}" maxlength="11"> <p class="help-block">Ingrese un número de 11 digitos.</p> </div> <div class="form-group"> <label for="flLogo">Logo</label> <input id="flLogo" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> <img ng-hide="url_preview === undefined || url_preview === null" class="img-responsive" ng-src="{{tmp_path}}/{{url_preview}}" alt="imagen previa"> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && url_preview === null">No fue posible cargar la imagen</span> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="cliente.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="cliente.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveCliente" class="btn btn-success" type="submit">Guardar Cliente</button> </div> </form>'),a.put("views/clientes.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Clientes</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Clientes</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showClientesAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nuevo Cliente</button> <scrollable-table watch="clientes" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="razon_social">Razón Social</th> <th sortable-header col="ruc">RUC</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="loading && clientes.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': cliente.estado_id === 2}" ng-repeat="cliente in clientes" row-id="{{ cliente.id }}"> <td>{{ cliente.id }}</td> <td>{{ cliente.razon_social }}</td> <td>{{ cliente.ruc }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showClientesEdit(cliente, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/convocatorias-add.html",'<form ng-submit="saveConvocatoria(convocatoria, \'btnSaveConvocatoria\', documentacion_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nueva Convocatoria</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtDescripcion">Descripción</label> <input id="txtDescripcion" class="form-control" type="text" ng-model="convocatoria.descripcion" required> </div> <div class="form-group"> <label for="dtFecha">Fecha</label> <input id="dtFecha" class="form-control" type="date" ng-model="fecha_pre" required> </div> <div class="form-group"> <label for="flDocumentacion">Documentación</label> <input id="flDocumentacion" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="application/pdf" ngf-max-height="5000" ngf-max-size="10MB" required> <span ng-hide="documentacion_preview === undefined || documentacion_preview === null">Documento cargado correctamente</span> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && documentacion_preview === null">No fue posible cargar el documento</span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveConvocatoria" class="btn btn-success" type="submit">Guardar Política</button> </div> </form>'),a.put("views/convocatorias-edit.html",'<form ng-submit="saveConvocatoria(convocatoria, \'btnSaveConvocatoria\', documentacion_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Editar Convocatoria</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtDescripcion">Descripción</label> <input id="txtDescripcion" class="form-control" type="text" ng-model="convocatoria.descripcion" required> </div> <div class="form-group"> <label for="dtFecha">Fecha</label> <input id="dtFecha" class="form-control" type="date" ng-model="fecha_pre" required ng-value="convocatoria.fecha"> </div> <div class="form-group"> <label for="flDocumentacion">Documentación</label> <input id="flDocumentacion" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="application/pdf" ngf-max-height="5000" ngf-max-size="10MB"> <span ng-hide="documentacion_preview === undefined || documentacion_preview === null">Documento cargado correctamente<br></span> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && documentacion_preview === null">No fue posible cargar el documento</span> </div> Link de Descarga <a ng-href="{{path_location + \'files/convocatorias/\' + convocatoria.documentacion }}" target="_blank"><span class="glyphicon glyphicon-list-alt"></span></a> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="convocatoria.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="convocatoria.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveConvocatoria" class="btn btn-success" type="submit">Guardar Convocatoria</button> </div> </form>'),a.put("views/convocatorias.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Convocatorias</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Convocatorias</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showConvocatoriasAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nueva Convocatoria</button> <scrollable-table watch="convocatorias" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="descripcion">Descripción</th> <th sortable-header col="fecha">Fecha</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && convocatorias.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danget\': convocatoria.estado_id === 2}" ng-repeat="convocatoria in convocatorias" row-id="{{ convocatoria.id }}"> <td>{{ convocatoria.id }}</td> <td>{{ convocatoria.descripcion }}</td> <td>{{ convocatoria.fecha }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showConvocatoriasEdit(convocatoria, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/info-general-edit.html",'<form novalidate angular-validator angular-validator-submit="saveInfoGeneral(info, \'btnSaveInfo\')" name="infoGenerealEdit" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Información</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtData">Data</label> <input id="txtData" class="form-control" type="text" ng-model="info.data" readonly> </div> <div class="form-group"> <label for="txtaValor">Valor</label> <textarea style="height: 200px" id="txtaValor" class="form-control" ng-model="info.value" name="infoValue" required required-message="\'Este campo es requerido\'" validate-on="blur">\n            </textarea> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveInfo" class="btn btn-success" type="submit">Guardar Info</button> </div> </form>'),a.put("views/info-general.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Información General</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Información General</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <scrollable-table watch="infos" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="data">Dato</th> <th sortable-header col="value">Contenido</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && infos.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-repeat="info in infos" row-id="{{ info.data }}"> <td>{{ info.data }}</td> <td>{{ info.value | limitTo: 50 }}<span ng-if="info.value.length > 50">...</span></td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showInfosEdit(info, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/main.html",'<ol class="breadcrumb"> <li><a href="#/">Inicio</a></li> </ol> <h2 class="header-link-main">Inicio</h2> <hr> <div class="row"> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Información General</h2> </div> <a ng-href="#/info-general"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Slider</h2> </div> <a ng-href="#/slider"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Nosotros</h2> </div> <a ng-href="#/nosotros"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Productos</h2> </div> <a ng-href="#/productos"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Clientes</h2> </div> <a ng-href="#/clientes"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Obras</h2> </div> <a ng-href="#/obras"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Páginas</h2> </div> <a ng-href="#/pages"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Convocatorias</h2> </div> <a ng-href="#/convocatorias"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Tipos de Sugerencias</h2> </div> <a ng-href="#/tipo_sugerencias"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Roles</h2> </div> <a ng-href="#/roles"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> <div class="col-lg-3 col-md-6"> <div class="panel panel-primary"> <div class="panel-heading"> <h2 class="header-link-main">Usuarios</h2> </div> <a ng-href="#/users"> <div class="panel-footer"> <span class="pull-left">Ver detalles</span> <span class="pull-right"> <span class="glyphicon glyphicon-arrow-right"></span> </span> <div class="clearfix"></div> </div> </a> </div> </div> </div>'),a.put("views/nosotros.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Nosotros</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Nosotros</h2> <hr> <div> <!-- Nav tabs --> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active" style="cursor: default"> <a data-target="#quienes-somos" aria-controls="quienes-somos" role="tab" data-toggle="tab"><h3>¿Quiénes somos?</h3></a> </li> <li role="presentation" class="li-nosotros"> <a data-target="#politicas" aria-controls="politicas" role="tab" data-toggle="tab"><h3>Políticas</h3></a> </li> </ul> <!-- Tab panes --> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="quienes-somos"> <div class="row"> <div class="col-sm-12"> <form ng-submit="saveQuienesSomos(quienesSomos, \'btnSaveQuienesSomos\')"> <div class="form-group"> <label for="txtaNuestraHistoria">Nuestra Historia</label> <textarea id="txtaNuestraHistoria" class="form-control" ui-tinymce="tinymceOptions" ng-model="quienesSomos.nuestraHistoria"></textarea> </div> <div class="form-group"> <label for="txtaVision">Valores</label> <input type="text" class="form-control" ng-model="quienesSomos.valor1"> <input type="text" class="form-control" ng-model="quienesSomos.valor2"> <input type="text" class="form-control" ng-model="quienesSomos.valor3"> <input type="text" class="form-control" ng-model="quienesSomos.valor4"> <input type="text" class="form-control" ng-model="quienesSomos.valor5"> <input type="text" class="form-control" ng-model="quienesSomos.valor6"> <input type="text" class="form-control" ng-model="quienesSomos.valor7"> </div> <div class="form-group"> <label for="txtaVision">Visión</label> <textarea id="txtaVision" class="form-control" ui-tinymce="tinymceOptions" ng-model="quienesSomos.vision"></textarea> </div> <div class="form-group"> <label for="txtaMision">Misión</label> <textarea id="txtaMision" class="form-control" ui-tinymce="tinymceOptions" ng-model="quienesSomos.mision"></textarea> </div> <button id="btnSaveQuienesSomos" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-ok"></span> Guardar</button> </form> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="politicas"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-primary" ng-click="showPoliticasAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nueva Politica</button> <scrollable-table watch="politicas" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="title">Título</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-class="{\'danger\': politica.estado_id === 2}" ng-repeat="politica in politicas" row-id="{{ politica.id }}"> <td>{{ politica.id }}</td> <td>{{ politica.title }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showPoliticasEdit(politica, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div> </div> </div> </div>'),a.put("views/obras-add.html",'<form ng-submit="saveObra(obra, \'btnSaveObra\', urls_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nueva Obra</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="obra.title" required> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control textarea-3x" ng-model="obra.body" ui-tinymce="tinymceOptions"></textarea> </div> <div class="form-group"> <label for="txtaResumen">Resumen</label> <textarea id="txtaResumen" class="form-control textarea-2x" ng-model="obra.resumen" required></textarea> </div> <div class="form-group"> <label for="flImagenesObras">Imágenes</label> <input id="flImagenesObras" type="file" class="form-control" required ngf-multiple="true" ngf-select="preview($files, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> <span ng-show="loading">Cargando...</span> <div ng-image-gallery images="images" on-delete="delete(img, cb)" methods="methods"> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveObra" class="btn btn-success" type="submit">Guardar Obra</button> </div> </form>'),
a.put("views/obras-edit.html",'<form ng-submit="saveObra(obra, \'btnSaveObra\', urls_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Obra</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="obra.title" required> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control textarea-3x" ng-model="obra.body" ui-tinymce="tinymceOptions"></textarea> </div> <div class="form-group"> <label for="txtaResumen">Resumen</label> <textarea id="txtaResumen" class="form-control textarea-2x" ng-model="obra.resumen" required></textarea> </div> <div class="form-group"> <label for="flImagenesObras">Imágenes</label> <input id="flImagenesObras" type="file" class="form-control" ngf-multiple="true" ngf-select="preview($files, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> <span ng-show="loading">Cargando...</span> <div ng-image-gallery images="images" on-delete="delete(img, cb)" methods="methods"> </div> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="obra.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="obra.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveObra" class="btn btn-success" type="submit">Guardar Obra</button> </div> </form>'),a.put("views/obras.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Obras</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Obras</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showObrasAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nueva Obra</button> <scrollable-table watch="obras" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="title">Título</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && obras.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': obra.estado_id === 2}" ng-repeat="obra in obras" row-id="{{ obra.id }}"> <td>{{ obra.id }}</td> <td>{{ obra.title }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showObrasEdit(obra, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/pages-add.html",'<form ng-submit="savePage(page, \'btnSavePage\')"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nueva Pàgina</h4> </div> <div class="modal-body modal-body-overflow"> <div class="row"> <div class="col-sm-8"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="page.title" required> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label for="sltMenu">Menú</label> <select class="form-control" id="sltMenu" required ng-options="menu.id as menu.description for menu in menus" ng-model="page.menu"> <option value="">Selecciona uno</option> </select> </div> </div> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control" ng-model="page.body" ui-tinymce="tinymcePagesOptions" style="height: 250px"></textarea> <input style="display: none" id="flImagen" type="file" class="form-control" ngf-select="upload($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSavePage" class="btn btn-success" type="submit">Guardar Página</button> </div> </form>'),a.put("views/pages-edit.html",'<form ng-submit="savePage(page, \'btnSavePage\')"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Página</h4> </div> <div class="modal-body modal-body-overflow"> <div class="row"> <div class="col-sm-8"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="page.title" required> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label for="sltMenu">Menú</label> <select class="form-control" id="sltMenu" required ng-options="menu.id as menu.description for menu in menus" ng-model="page.menu"> <option value="">Selecciona uno</option> </select> </div> </div> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control" ng-model="page.body" ui-tinymce="tinymcePagesOptions" style="height: 400px"></textarea> <input style="display: none" id="flImagen" type="file" class="form-control" ngf-select="upload($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="page.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="page.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSavePage" class="btn btn-success" type="submit">Guardar Página</button> </div> </form>'),a.put("views/pages.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Páginas</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Páginas</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showPagesAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nueva Página</button> <scrollable-table watch="pages" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="title">Título</th> <th sortable-header col="menu">Menú</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && pages.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': page.estado_id === 2}" ng-repeat="page in pages" row-id="{{ page.id }}"> <td>{{ page.id }}</td> <td>{{ page.title }}</td> <td>{{ page.menu | menuFilter }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showPagesEdit(page, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/politicas-add.html",'<form ng-submit="savePolitica(politica, \'btnSavePolitica\', url_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nueva Política</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="politica.title" required> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control" ng-model="politica.body" ui-tinymce="tinymceOptions"></textarea> </div> <div class="form-group"> <label for="flImagen">Imagen</label> <input id="flImagen" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB" required> <img ng-hide="url_preview === undefined || url_preview === null" class="img-responsive" ng-src="{{tmp_path}}/{{url_preview}}" alt="imagen previa"> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && url_preview === null">No fue posible cargar la imagen</span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSavePolitica" class="btn btn-success" type="submit">Guardar Política</button> </div> </form>'),a.put("views/politicas-edit.html",'<form ng-submit="savePolitica(politica, \'btnSavePolitica\', url_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Editar Política</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="politica.title" required> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control" ng-model="politica.body" ui-tinymce="tinymceOptions"></textarea> </div> <div class="form-group"> <label for="flImagen">Imagen</label> <input id="flImagen" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> <img ng-hide="url_preview === undefined || url_preview === null" class="img-responsive" ng-src="{{tmp_path}}/{{url_preview}}" alt="imagen previa"> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && url_preview === null">No fue posible cargar la imagen</span> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="politica.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="politica.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSavePolitica" class="btn btn-success" type="submit">Guardar Politica</button> </div> </form>'),a.put("views/productos-add.html",'<form ng-submit="saveProducto(producto, \'btnSaveProducto\', urls_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nuevo Producto</h4> </div> <div class="modal-body modal-body-overflow"> <div class="row"> <div class="col-sm-8"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="producto.title" required> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label for="sltTipo">Tipo</label> <select id="sltTipo" class="form-control" required ng-options="option.type as option.description for option in [{type: \'P\', description: \'Página\'}, {type: \'L\', description: \'Línea de Producto\'}]" ng-model="producto.type"> <option value="">Selecciona uno</option> </select> </div> </div> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control textarea-3x" ng-model="producto.body" ui-tinymce="tinymceOptions"></textarea> </div> <div class="form-group"> <label for="txtaResumen">Resumen</label> <textarea id="txtaResumen" class="form-control textarea-2x" ng-model="producto.resumen" required></textarea> </div> <div class="form-group"> <label for="flImagenesProductos">Imágenes</label> <input id="flImagenesProductos" type="file" class="form-control" ngf-multiple="true" ngf-select="preview($files, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB" required> <span ng-show="loading">Cargando...</span> <div ng-image-gallery images="images" on-delete="delete(img, cb)" methods="methods"> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveProducto" class="btn btn-success" type="submit">Guardar Producto</button> </div> </form>'),a.put("views/productos-edit.html",'<form ng-submit="saveProducto(producto, \'btnSaveProducto\', urls_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Producto</h4> </div> <div class="modal-body modal-body-overflow"> <div class="row"> <div class="col-sm-8"> <div class="form-group"> <label for="txtTitle">Título</label> <input id="txtTitle" class="form-control" type="text" ng-model="producto.title" required> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label for="sltTipo">Tipo</label> <select id="sltTipo" class="form-control" required ng-options="option.type as option.description for option in [{type: \'P\', description: \'Página\'}, {type: \'L\', description: \'Línea de Producto\'}]" ng-model="producto.type"> <option value="">Selecciona uno</option> </select> </div> </div> </div> <div class="form-group"> <label for="txtaBody">Contenido</label> <textarea id="txtaBody" class="form-control textarea-3x" ng-model="producto.body" ui-tinymce="tinymceOptions"></textarea> </div> <div class="form-group"> <label for="txtaResumen">Resumen</label> <textarea id="txtaResumen" class="form-control textarea-2x" ng-model="producto.resumen" required></textarea> </div> <div class="form-group"> <label for="flImagenesProductos">Imágenes</label> <input id="flImagenesProductos" type="file" class="form-control" ngf-multiple="true" ngf-select="preview($files, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> <span ng-show="loading">Cargando...</span> <div ng-image-gallery images="images" on-delete="delete(img, cb)" methods="methods"> </div> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="producto.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="producto.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveProducto" class="btn btn-success" type="submit">Guardar Producto</button> </div> </form>'),a.put("views/productos.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Productos</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Productos</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showProductosAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nuevo Producto</button> <scrollable-table watch="productos" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="title">Título</th> <th sortable-header col="type">Tipo</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && productos.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': producto.estado_id === 2}" ng-repeat="producto in productos" row-id="{{ producto.id }}"> <td>{{ producto.id }}</td> <td>{{ producto.title }}</td> <td>{{ producto.type | tipoProducto }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showProductosEdit(producto, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/roles-add.html",'<form novalidate angular-validator angular-validator-submit="saveRol(rol, \'btnSaveRol\')" name="rolesAdd" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nuevo Rol</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtDescripcion">Descripción</label> <input id="txtDescripcion" class="form-control" type="text" ng-model="rol.descripcion" required name="rolDescripcion" required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <p>Con acceso a:</p> <span ng-show="loading">Cargando...</span> <div class="form-group"> <div class="row"> <div class="col-sm-4" ng-repeat="controller_rol in rol.controller_roles"> <label><input type="checkbox" ng-model="controller_rol.permiso"> {{ controller_rol.controller.descripcion }}</label> </div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveRol" class="btn btn-success" type="submit">Guardar Rol</button> </div> </form>'),a.put("views/roles-edit.html",'<form novalidate angular-validator angular-validator-submit="saveRol(rol, \'btnSaveRol\')" name="rolesEdit" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Rol</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtDescripcion">Descripción</label> <input id="txtDescripcion" class="form-control" type="text" ng-model="rol.descripcion" required name="rolDescripcion" required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <p>Con acceso a:</p> <div class="form-group"> <div class="row"> <div class="col-sm-4" ng-repeat="controller_rol in rol.controller_roles"> <label><input type="checkbox" ng-model="controller_rol.permiso"> {{ controller_rol.controller.descripcion }}</label> </div> </div> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="rol.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="rol.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveRol" class="btn btn-success" type="submit">Guardar Rol</button> </div> </form>'),a.put("views/roles.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Roles</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Roles</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showRolesAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nuevo Rol</button> <scrollable-table watch="roles" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="descripcion">Descripción</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && roles.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': rol.estado_id === 2}" ng-repeat="rol in roles" row-id="{{ rol.id }}"> <td>{{ rol.id }}</td> <td>{{ rol.descripcion }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showRolesEdit(rol, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/slider.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Slider</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Slider</h2> <hr> <div class="row slider"> <h3 ng-hide="!loading">Cargando...</h3> <h3 ng-show="!loading && slides.length === 0">No hay registros</h3> <div class="col-sm-4" ng-repeat="slide in slides" ng-class="{\'inactive-slide\': slide.estado_id === 2}"> <div class="slide"> <img class="img-responsive" ng-src="{{ path_location}}/img/slides/{{ slide.url }}"> <div class="edit animated fadeIn animation-slow"> <button class="btn btn-warning btn-circle btn-lg" ng-click="showSlidesEdit(slide)"> <span class="glyphicon glyphicon-pencil"></span> </button> </div> </div> </div> <div class="col-sm-4"> <div class="slide cruz" ng-click="showSlidesAdd()"> <img src="images/cruz-mas.6aca2c40.svg" alt="más"> <div class="edit animated fadeIn animation-slow"> </div> </div> </div> </div>'),a.put("views/slides-add.html",'<form ng-submit="saveSlide(slide, \'btnSaveSlide\', url_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nuevo Slide</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtTitulo">Título</label> <input id="txtTitulo" class="form-control" type="text" ng-model="slide.titulo"> <p class="help-block">Dejar vacío si no se desea mostrar detalle del Slide.</p> </div> <div class="form-group"> <label for="txtaContenido">Contenido</label> <textarea id="txtaContenido" class="form-control textarea-1x" ng-model="slide.contenido"></textarea> </div> <div class="form-group"> <label for="flImagen">Imagen</label> <input id="flImagen" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB" required> <img ng-hide="url_preview === undefined || url_preview === null" class="img-responsive" ng-src="{{tmp_path}}/{{url_preview}}" alt="imagen previa"> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && url_preview === null">No fue posible cargar la imagen</span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveSlide" class="btn btn-success" type="submit">Guardar Slide</button> </div> </form>'),a.put("views/slides-edit.html",'<form ng-submit="saveSlide(slide, \'btnSaveSlide\', url_preview)"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Editar Slide</h4> </div> <div class="modal-body modal-body-overflow"> <div class="form-group"> <label for="txtTitulo">Título</label> <input id="txtTitulo" class="form-control" type="text" ng-model="slide.titulo"> <p class="help-block">Dejar vacío si no se desea mostrar detalle del Slide.</p> </div> <div class="form-group"> <label for="txtaContenido">Contenido</label> <textarea id="txtaContenido" class="form-control textarea-1x" ng-model="slide.contenido"></textarea> </div> <div class="form-group"> <label for="flImagen">Imagen</label> <input id="flImagen" type="file" class="form-control" ngf-select="preview($file, $invalidFiles)" accept="image/*" ngf-max-height="5000" ngf-max-size="10MB"> <img ng-hide="url_preview === undefined || url_preview === null" class="img-responsive" ng-src="{{tmp_path}}/{{url_preview}}" alt="imagen previa"> <span ng-show="loading">Cargando...</span> <span ng-show="!loading && url_preview === null">No fue posible cargar la imagen</span> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="slide.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="slide.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveSlide" class="btn btn-success" type="submit">Guardar Slide</button> </div> </form>'),a.put("views/tipo_sugerencias-add.html",'<form novalidate angular-validator angular-validator-submit="saveTipoSugerencia(tipo_sugerencia, \'btnSaveTipoSugerencia\')" name="tipoSugerenciasAdd" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nuevo Tipo de Sugerencia</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtDescripcion">Descripción</label> <input id="txtDescripcion" class="form-control" type="text" ng-model="tipo_sugerencia.descripcion" name="infoDescripcion" required required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <div class="form-group"> <label for="txtEmail">Email</label> <input id="txtEmail" class="form-control" type="email" ng-model="tipo_sugerencia.email" name="infoEmail" required required-message="\'Este campo es requerido\'" validate-on="blur" invalid-message="\'Email inválido\'"> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveTipoSugerencia" class="btn btn-success" type="submit">Guardar Tipo de Sugerencia</button> </div> </form>'),a.put("views/tipo_sugerencias-edit.html",'<form novalidate angular-validator angular-validator-submit="saveTipoSugerencia(tipo_sugerencia, \'btnSaveTipoSugerencia\')" name="tipoSugerenciasEdit" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Tipo de Sugerencia</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtDescripcion">Descripción</label> <input id="txtDescripcion" class="form-control" type="text" ng-model="tipo_sugerencia.descripcion" name="infoDescripcion" required required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <div class="form-group"> <label for="txtEmail">Email</label> <input id="txtEmail" class="form-control" type="email" ng-model="tipo_sugerencia.email" name="infoEmail" required required-message="\'Este campo es requerido\'" validate-on="blur" invalid-message="\'Email inválido\'"> </div> <div class="form-group"> <label>Estado</label> <div> <label><input type="radio" ng-model="tipo_sugerencia.estado_id" ng-value="1"> Activo</label> <label><input type="radio" ng-model="tipo_sugerencia.estado_id" ng-value="2"> Inactivo</label> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveTipoSugerencia" class="btn btn-success" type="submit">Guardar Tipo de Sugerencia</button> </div> </form>'),a.put("views/tipo_sugerencias.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Tipos de Sugerencias</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Tipos de Sugerencias</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showTipoSugerenciasAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nuevo Tipo de Sugerencia</button> <scrollable-table watch="tipo_sugerencias" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th sortable-header col="descripcion">Descripción</th> <th sortable-header col="email">Email</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && tipo_sugerencias.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': tipo_sugerencia.estado_id === 2}" ng-repeat="tipo_sugerencia in tipo_sugerencias" row-id="{{ tipo_sugerencia.id }}"> <td>{{ tipo_sugerencia.id }}</td> <td>{{ tipo_sugerencia.descripcion }}</td> <td>{{ tipo_sugerencia.email }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showTipoSugerenciasEdit(tipo_sugerencia, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>'),a.put("views/users-add.html",'<form novalidate angular-validator angular-validator-submit="saveUser(user, \'btnSaveUser\')" name="usersAdd" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Nuevo Usuario</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtUsername">Nombre de Usuario</label> <input id="txtUsername" class="form-control" type="text" ng-model="user.username" required name="userUsername" required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <div class="form-group"> <label for="txtPassword">Password</label> <input id="txtPassword" class="form-control" type="password" ng-model="user.password" required name="userPassword" required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <div class="form-group"> <label for="txtEmail">Email</label> <input id="txtEmail" class="form-control" type="email" ng-model="user.email" required name="userEmail" required-message="\'Este campo es requerido\'" invalid-message="\'Debe ingresar un correo electrónico\'" validate-on="blur"> </div> <div class="form-group"> <label for="sltRol">Rol</label> <select id="sltRol" class="form-control" ng-options="rol.id as rol.descripcion for rol in roles" ng-model="user.rol_id" name="rol" required required-message="\'Este campo es requerido\'" validate-on="blur"> <option value="">Selecciona un Rol</option> </select> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveUser" class="btn btn-success" type="submit">Guardar Usuario</button> </div> </form>'),a.put("views/users-edit.html",'<form novalidate angular-validator angular-validator-submit="saveUser(user, \'btnSaveUser\')" name="usersAdd" angular-validator-quiet> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Modificar Usuario</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="txtUsername">Nombre de Usuario</label> <input id="txtUsername" class="form-control" type="text" ng-model="user.username" required name="userUsername" required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <div class="form-group"> <label for="txtPassword">Password</label> <input id="txtPassword" class="form-control" type="password" ng-model="user.password" required name="userPassword" required-message="\'Este campo es requerido\'" validate-on="blur"> </div> <div class="form-group"> <label for="txtEmail">Email</label> <input id="txtEmail" class="form-control" type="email" ng-model="user.email" required name="userEmail" required-message="\'Este campo es requerido\'" invalid-message="\'Debe ingresar un correo electrónico\'" validate-on="blur"> </div> <div class="form-group"> <label for="sltRol">Rol</label> <select id="sltRol" class="form-control" ng-options="rol.id as rol.descripcion for rol in roles" ng-model="user.rol_id" name="rol" required required-message="\'Este campo es requerido\'" validate-on="blur"> <option value="">Selecciona un Rol</option> </select> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cerrar</button> <button id="btnSaveUser" class="btn btn-success" type="submit">Guardar Usuario</button> </div> </form>'),
a.put("views/users-login.html",'<div class="col-sm-4 col-sm-offset-4 dv-login"> <img class="img-responsive" src="images/logo.252c9100.png" alt="Logo Tuplast"> <form novalidate angular-validator angular-validator-submit="loginUser(user, \'btnLoginUser\')" name="usersLogin" angular-validator-quiet> <div class="panel panel-primary"> <div class="panel-heading"> <h2>Login</h2> </div> <div class="panel-body"> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <div class="form-group"> <label for="txtUsername">Nombre de Usuario</label> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-user"></span></div> <input id="txtUsername" class="form-control" type="text" ng-model="user.username"> </div> </div> <div class="form-group"> <label for="txtPassword">Password</label> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-flash"></span></div> <input id="txtPassword" class="form-control" type="password" ng-model="user.password"> </div> </div> </div> <div class="panel-footer"> <button id="btnLoginUser" type="submit" class="btn btn-primary">Login</button> </div> </div> </form> </div>'),a.put("views/users.html",'<ol class="breadcrumb"> <li><a href="#">Inicio</a></li> <li>Usuarios</li> </ol> <div class="alert alert-dismissible" ng-class="{\'alert-success\': message.type === \'success\', \'alert-danger\': message.type === \'error\'}" role="alert" ng-show="message.type !== undefined"> <button type="button" class="close" ng-click="message.type = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button> {{ message.text }} </div> <h2>Usuarios</h2> <hr> <div class="row"> <div class="col-sm-10 col-sm-offset-1"> <button type="button" class="btn btn-primary" ng-click="showUsersAdd($event)"><span class="glyphicon glyphicon-plus"></span> Nuevo Usuario</button> <scrollable-table watch="users" class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th sortable-header col="id">Código</th> <th style="width: 20%" sortable-header col="username">Nombre de Usuario</th> <th sortable-header col="email">Email</th> <th sortable-header col="rol.descripcion">Rol</th> <th>Acciones</th> </tr> </thead> <tbody> <tr ng-hide="!loading"><td colspan="5">Cargando...</td></tr> <tr ng-show="!loading && users.length === 0"><td colspan="5">No hay registros</td></tr> <tr ng-class="{\'danger\': user.estado_id === 2}" ng-repeat="user in users" row-id="{{ user.id }}"> <td>{{ user.id }}</td> <td style="width: 20%">{{ user.username }}</td> <td>{{ user.email }}</td> <td>{{ user.rol.descripcion }}</td> <td><button type="button" class="btn btn-primary btn-sm" ng-click="showUsersEdit(user, $event)"><span class="glyphicon glyphicon-pencil"></span></button></td> </tr> </tbody> </table> </scrollable-table> </div> </div>')}]);